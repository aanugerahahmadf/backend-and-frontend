(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54858,e=>{"use strict";let s="http://127.0.0.1:8000/api/v1",t=async(e,s={})=>{try{let t=await fetch(e,{headers:{"Content-Type":"application/json",...s.headers},...s});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(s){throw console.error(`API request failed: ${e}`,s),s}};e.s(["api",0,{getStats:async()=>t(`${s}/stats`),getBuildings:async()=>t(`${s}/buildings`),getBuilding:async e=>t(`${s}/buildings/${e}`),getRooms:async()=>t(`${s}/rooms`),getRoomsByBuilding:async e=>t(`${s}/rooms/building/${e}`),getRoom:async e=>t(`${s}/rooms/${e}`),getCctvs:async()=>t(`${s}/cctvs`),getCctvsByRoom:async e=>t(`${s}/cctvs/room/${e}`),getCctv:async e=>t(`${s}/cctvs/${e}`),getCctvStreamUrl:async e=>t(`${s}/cctvs/${e}/stream-url`),getContacts:async()=>t(`${s}/contacts`)}])},84923,e=>{"use strict";var s=e.i(43476),t=e.i(71645),n=e.i(54858);function c(){let[e,c]=(0,t.useState)([]),[l,r]=(0,t.useState)(!0),[i,a]=(0,t.useState)(null),[o,d]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{(async()=>{try{r(!0);let e=await n.api.getBuildings();c(e),d(!0),a(null)}catch(e){a("Failed to fetch buildings: "+e.message),console.error(e)}finally{r(!1)}})()},[]),(0,s.jsxs)("div",{className:"container mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"API Connection Test"}),l&&(0,s.jsx)("p",{className:"text-blue-500",children:"Testing connection..."}),i&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:(0,s.jsx)("p",{children:i})}),o&&(0,s.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:(0,s.jsx)("p",{children:"âœ… Connection successful!"})}),e.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-2",children:["Buildings (",e.length,")"]}),(0,s.jsx)("ul",{className:"list-disc pl-5",children:e.map(e=>(0,s.jsxs)("li",{className:"mb-1",children:[e.name," - Lat: ",e.latitude,", Lng: ",e.longitude,e.rooms&&e.rooms.length>0&&(0,s.jsx)("ul",{className:"list-circle pl-5 mt-1",children:e.rooms.map(e=>(0,s.jsxs)("li",{children:[e.name," (",e.cctvs?.length||0," CCTVs)"]},e.id))})]},e.id))})]}),!l&&!i&&0===e.length&&(0,s.jsx)("p",{children:"No buildings found."})]})}e.s(["default",()=>c])}]);